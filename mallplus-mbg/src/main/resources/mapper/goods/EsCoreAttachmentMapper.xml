<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mei.zhuang.dao.goods.EsCoreAttachmentMapper">

    <resultMap id="BaseResultMap" type="com.mei.zhuang.entity.goods.EsCoreAttachment">
        <id column="id" property="id"/>
        <result column="uid" property="uid"/>
        <result column="upload_time" property="uploadTime"/>
        <result column="name" property="name"/>
        <result column="shop_id" property="shopId"/>
        <result column="type" property="type"/>
        <result column="img_address" property="imgAddress"/>
        <result column="category_id" property="categoryId"/>
    </resultMap>

    <select id="selPageList" resultType="com.mei.zhuang.entity.goods.EsCoreAttachment">
        select * from es_core_attachment
        where 1=1
        <if test="categoryId != null">
            and category_id=#{categoryId}
        </if>
        <if test="name != null">
            and name like concat(concat('%',#{name},'%'))
        </if>

        <if test="type != null">
            and type = #{type}
        </if>
        order by id desc
    </select>
    <select id="count" resultType="java.lang.Integer">
        select count(1) from es_core_attachment
        where 1=1
        <if test="categoryId != null">
            and category_id=#{categoryId}
        </if>
        <if test="name != null">
            and name like concat(concat('%',#{name},'%'))
        </if>

        <if test="type != null">
            and type = #{type}
        </if>
    </select>


</mapper>
